# 電気設備アシスタント計算手法

ここでは計算の方法を紹介します。

## ケーブル設計計算

有効電力をP, 線電流をI, 線間電圧をV, 力率をconsφとすると、

```javascript
// 単相
I = P / (V * cosφ)

// 三相
I = P / (√3 * V * cosφ)
```

ケーブルサイズは流れる電流が許容電流より小さくなるサイズの最小値を選定。
電圧降下と電力損失は選定されたケーブルの単位長あたりのインピーダンスとケーブル長さから抵抗値Rを求める。


このとき、ケーブルの電圧降下をΔV, ケーブルの単位長インピーダンスをr+jx, ケーブルの長さをlとすると、


```javascript
// 単相
ΔV = I * l * ( r * cosφ + x * sinφ )

// 三相
ΔV = √3 * I * l * ( r * cosφ + x * sinφ )
```

また、ケーブルの電力損失Plをとすると

```javascript
// 単相
Pl = 2 * I^2 * r

// 三相
Pl = 3 * I^2 * r
```


## ケーブルのデータ

各ケーブルデータの条件について

|条件|内容|
|:--|:--|
|周囲温度(CV, CVT)|`40℃`|
|周囲温度(IV)|`30℃`|
|敷設条件(CV, CVT)|気中暗渠敷設|
|敷設条件(IV)|同一管内に3本以下|
|電流補正係数|なし|
|電源周波数|`50Hz`|
|ケーブルインピーダンス温度|`90℃`|





## 電力計算

線間電圧、電流、力率から各電力を求める。
線電流をI, 線間電圧をV, 力率をconsφ, 皮相電力をS, 有効電力をP, 無効電力をQとすると、


```javascript
// sinφ
sinφ = √(1 - (cosφ)^2)

// 単相
S = V * I
P = V * I * cosφ
Q = V * I * sinφ

// 三相
S = √3 * V * I
P = √3 * V * I * cosφ
Q = √3 * V * I * sinφ
```

## 参考

- [JCMA, 技術資料](https://www.jcma2.jp/gijutsu/shiryou/index.html)
- [フジクラ・ダイヤケーブル技術資料](https://www.fujikura-dia.co.jp/tech/)
- [公益社団法人 日本電気技術者協会](https://jeea.or.jp/course/)
